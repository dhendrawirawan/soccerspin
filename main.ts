namespace SpriteKind {
    export const Target = SpriteKind.create()
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (Spin < 21) {
        Spin += 7
    } else {
        Spin = -21
    }
    if (Spin == 7) {
        SpinIcon.setImage(assets.image`Spin7`)
    } else if (Spin == 14) {
        SpinIcon.setImage(assets.image`Spin14`)
    } else if (Spin == 21) {
        SpinIcon.setImage(assets.image`Spin21`)
    } else if (Spin == -21) {
        SpinIcon.setImage(assets.image`Spin-21`)
    } else if (Spin == -14) {
        SpinIcon.setImage(assets.image`Spin-14`)
    } else if (Spin == -7) {
        SpinIcon.setImage(assets.image`Spin-7`)
    } else {
        SpinIcon.setImage(assets.image`Straight`)
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    Ball.setVelocity((KickTarget.x - BallX) / 2, (KickTarget.y - BallY) / 2)
    Ball.ax = Spin
    Opponent.follow(Ball, 10)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Target, function (sprite, otherSprite) {
    game.gameOver(true)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    game.gameOver(false)
})
let Spin = 0
let BallY = 0
let BallX = 0
let SpinIcon: Sprite = null
let KickTarget: Sprite = null
let Opponent: Sprite = null
let Ball: Sprite = null
scene.setBackgroundImage(img`
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1177777717777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777177777711
    1177777717777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777177777711
    1177777717777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777177777711
    1177777177777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777717777711
    1177771777777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777717777711
    1177717777777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777771177711
    1111177777777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777777711111
    1177777777777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777771117777777777777777777777777777777777777711177777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777771111111111111111111111111111111111111111111177777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777771111111111111111111111111111111111111111111177777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777771111111111111111111111111111111111111111111177777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111777777777777777777777777777777777777777777777777777777777777777777777777111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111111111111111111111111111111111111111111111111111111111111111111111111111111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111111111111111111111111111111111111111111111111111111111111111111111111111111777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777111111111111111111111111111111111111111111111111111111111111111111111111111117777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777717777777777777777777777717777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777717777777777777777777777717777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777717777777777777777777777717777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777717777777777777777777777717777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777771777777777777777777777177777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777177777777777777777771777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777177777777777777777771777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777717777777777777777717777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777771177777777777771177777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777717777777777717777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777771111111111177777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777777111111111111177777777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777777111777777777777711177777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777711777777777777777777711777777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777777177777777777777777777777177777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777711777777777777777777777777711777777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777777177777777777777777777777777777177777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777717777777777777777777777777777777771777777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777177777777777777777777777777777777777177777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777777177777777777777777777777777777777777177777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777717777777777777777777777777777777777777771777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777717777777777777777777777777777777777777771777777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777177777777777777777777777777777777777777777177777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777177777777777777777777777777777777777777777177777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777777177777777777777777777777777777777777777777177777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777771777777777777777777777777777777777777777777717777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777771777777777777777777777777777777777777777777717777777777777777777777777777777777777777777777777777777711
    1177777777777777777777777777777777777777777777777777777771777777777777777777777777777777777777777777717777777777777777777777777777777777777777777777777777777711
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    7777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777
    `)
let Goal = sprites.create(img`
    555555555555555555555555555555555
    5..5..5..5..5..5..5..5.5..5..5..5
    5..5..5..5..5..555555555..5..5..5
    5555555555555555..5..5.5555555555
    5..5..5..5..5..5..5..5.5..5..5..5
    555555555555555555555555555555555
    5..5..5..5..5..5..5..5.5..5..5..5
    5..5..5..5..5..555555555..5..5..5
    5555555555555555..5..5.5555555555
    5..5..5..5..5..5..5..5.5..5..5..5
    555555555555555555555555555555555
    .................................
    `, SpriteKind.Target)
Ball = sprites.create(img`
    . . 1 f f 1 . . 
    . 1 f f f f 1 . 
    1 1 1 f f 1 f 1 
    1 f f 1 1 f f f 
    f f f f 1 f f f 
    1 f f 1 1 1 f 1 
    . 1 1 f f 1 1 . 
    . . f f f f . . 
    `, SpriteKind.Player)
Opponent = sprites.create(img`
    . . . . f f f f . . . . 
    . . . d d f d f . . . . 
    . . . d d d d d . . . . 
    . . . . d d f d . . . . 
    . . d 2 2 2 2 2 2 d . . 
    . d d 2 2 2 2 2 2 d d . 
    . d d 2 2 2 2 2 2 d d . 
    . d d 2 2 2 2 2 2 d d . 
    . d d . 1 1 1 1 . . d d 
    d d . . 2 2 2 2 . . d d 
    . . . 2 2 2 2 2 2 . . . 
    . . . 2 2 2 2 2 2 . . . 
    . . . 2 2 2 . 2 2 . . . 
    . . . d d . . d d . . . 
    . . . d d . . d d . . . 
    . . . f f f . f f f . . 
    `, SpriteKind.Enemy)
KickTarget = sprites.create(img`
    . . . . . . 2 . . . . . . 
    . . . 2 2 2 2 2 2 2 . . . 
    . . 2 . . . 2 . . . 2 . . 
    . 2 . . . . 2 . . . . 2 . 
    . 2 . . . . 2 . . . . 2 . 
    . 2 . . . . 2 . . . . 2 . 
    2 2 2 2 2 2 2 2 2 2 2 2 2 
    . 2 . . . . 2 . . . . 2 . 
    . 2 . . . . 2 . . . . 2 . 
    . 2 . . . . 2 . . . . 2 . 
    . . 2 . . . 2 . . . 2 . . 
    . . . 2 2 2 2 2 2 2 . . . 
    . . . . . . 2 . . . . . . 
    `, SpriteKind.Food)
SpinIcon = sprites.create(assets.image`Straight`, SpriteKind.Food)
controller.moveSprite(KickTarget, 100, 100)
Goal.setPosition(82, 6)
BallX = randint(10, 140)
BallY = randint(70, 100)
Ball.setPosition(BallX, BallY)
Opponent.setPosition(82 + (BallX - 82) / 2, 6 + (BallY - 6) / 2)
Spin = 0
SpinIcon.setPosition(BallX, BallY + 10)
Ball.setStayInScreen(true)
